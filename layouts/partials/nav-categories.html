<div x-data="{ dropdown: false }" class="relative lg:hidden flex justify-center">
  <button @click="dropdown = ! dropdown" type="button" 
    :class="{ 'text-primary-600 dark:text-primary-500': dropdown, 'dark:text-white': !(dropdown) }"
    class="relative group lg:hidden hover:text-primary-600 dark:hover:text-primary-500 bg-slate-50 dark:bg-primary-900 px-6 xl:px-8 py-2.5 tracking-wide rounded-full inline-flex items-center justify-center">
    <span>{{ i18n "categories" }}</span>
    <svg
      :class="{ 'text-primary-600 dark:text-primary-500 rotate-180': dropdown, 'dark:text-white transform-none': !(dropdown) }"
      class="text-primary-600 dark:text-primary-500 ml-0.5 mt-0.5 h-6 w-6 group-hover:text-primary-600 dark:group-hover:text-primary-500"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 20 20"
      fill="currentColor"
      aria-hidden="true"
    >
      <path
        fill-rule="evenodd"
        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
        clip-rule="evenodd"
      />
    </svg>
  </button>
  <div 
    x-show="dropdown"
    :class="{ 'block': dropdown, 'hidden': !(dropdown) }"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 translate-y-1"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 translate-y-1"
    @click.outside="dropdown = false"
   class="absolute z-10 top-14 min-w-[16rem] bg-white dark:bg-primary-900 rounded-xl shadow-xl hidden py-2.5">
   <a class="{{ if in .Permalink "/blog/" }}text-primary-600 dark:text-primary-500{{ else }}dark:text-white{{ end }} hover:text-primary-600 dark:hover:text-primary-500 block px-5 py-3" href="{{ "/blog/" | relLangURL }}">{{ i18n "all_categories" }}</a>
   {{ range site.Taxonomies.categories }}
      <a class="{{ if eq .Page.Permalink $.Permalink }}text-primary-600 dark:text-primary-500{{ else }}dark:text-white{{ end }} hover:text-primary-600 dark:hover:text-primary-500 block px-5 py-3" href="{{ .Page.Permalink }}">{{ .Page.Title }}</a>
    {{ end }}
  </div>
</div>
<div class="hidden lg:flex lg:justify-center">
  <div class="flex space-x-1 justify-center font-normal text-sm bg-slate-50 dark:bg-primary-900 rounded-full p-2">
    <a class="{{ if in .Permalink "/blog/" }}text-primary-600 dark:text-primary-500 bg-white dark:bg-blue-950 shadow-md{{ else }}text-slate-900 dark:text-white{{ end }} hover:bg-white dark:hover:bg-blue-950 px-6 xl:px-8 py-2.5 tracking-wide rounded-full font-medium" href="{{ "/blog/" | relLangURL }}">{{ i18n "all_categories" }}</a>
    {{ range site.Taxonomies.categories }}
      <a class="{{ if eq .Page.Permalink $.Permalink }}text-primary-600 dark:text-primary-500 bg-white dark:bg-blue-950 shadow-md{{ else }}text-slate-900 dark:text-white{{ end }} hover:bg-white dark:hover:bg-blue-950 px-6 xl:px-8 py-2.5 tracking-wide rounded-full font-medium" href="{{ .Page.Permalink }}">{{ .Page.Title }}</a>
    {{ end }}
  </div>
</div>
